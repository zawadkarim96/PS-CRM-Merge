# Ensure Nixpacks provisions Python even though the project files live in a
# subdirectory.
providers = ["python"]

[phases.setup]
# Use the full Python distribution and explicitly bootstrap pip in case the
# interpreter image omits it.
nixPkgs = ["python311Full"]

[phases.install]
cmds = [
  "cd PS-SALES-main && python3 -m ensurepip --upgrade",
  "cd PS-SALES-main && python3 -m pip install --upgrade pip",
  "cd PS-SALES-main && python3 -m pip install -r requirements.txt"
]

[start]
cmd = "cd PS-SALES-main && streamlit run sales_app.py --server.port $PORT --server.address 0.0.0.0"
